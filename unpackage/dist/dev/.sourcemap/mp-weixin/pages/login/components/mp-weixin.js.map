{"version":3,"sources":["webpack:///E:/xiyo-shopping/xiyo-shopping/pages/login/components/mp-weixin.vue?f239","webpack:///E:/xiyo-shopping/xiyo-shopping/pages/login/components/mp-weixin.vue?93ff","webpack:///E:/xiyo-shopping/xiyo-shopping/pages/login/components/mp-weixin.vue?2eaf","webpack:///E:/xiyo-shopping/xiyo-shopping/pages/login/components/mp-weixin.vue?6b57","uni-app:///pages/login/components/mp-weixin.vue","webpack:///E:/xiyo-shopping/xiyo-shopping/pages/login/components/mp-weixin.vue?e136","webpack:///E:/xiyo-shopping/xiyo-shopping/pages/login/components/mp-weixin.vue?35df"],"names":["data","partyData","methods","confirmLogin","uni","desc","success","that","fail","onSuccessLogin","userInfo","oauth","code","getCode","provider","resolve","phoneAuth","isBindMobile"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkI;AAClI;AAC6D;AACL;AACqC;;;AAG7F;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,gGAAM;AACR,EAAE,yGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAmmB,CAAgB,6nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCoBvnB;EACAA;IACA;MACAC;IACA;EACA;EACAC;IACAC;MACA;MACA;MACAC;QACAC;QACAC;UACAC;QACA;QACAC;UACAD;QACA;MACA;IACA;IACAE;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAF;gBAAA,cAGAG;gBAAA;gBAAA,OACAH;cAAA;gBAAA;gBAHAN;kBACAU;kBACAD;kBACAE;gBAAA;gBAEA;kBACAR;kBACAG;oBACAH;kBACA;gBAEA;kBACAA;kBACAG;kBACA;oBACAA;kBACA;gBAEA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAM;MACA;QACAT;UACAU;UACAR;YACAS;UACA;UACAP;QACA;MACA;IACA;IACAQ;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,eAGAN;gBAAA;gBAAA,OACA;cAAA;gBAAA;gBAHAT;kBACAU;kBACAD;kBACAE;gBAAA;gBAEA;kBACAK;kBACAhB;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACrFA;AAAA;AAAA;AAAA;AAA64B,CAAgB,84BAAG,EAAC,C;;;;;;;;;;;ACAj6B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/login/components/mp-weixin.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./mp-weixin.vue?vue&type=template&id=3aaf109c&scoped=true&\"\nvar renderjs\nimport script from \"./mp-weixin.vue?vue&type=script&lang=js&\"\nexport * from \"./mp-weixin.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mp-weixin.vue?vue&type=style&index=0&id=3aaf109c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3aaf109c\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/login/components/mp-weixin.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./mp-weixin.vue?vue&type=template&id=3aaf109c&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./mp-weixin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./mp-weixin.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"login\">\r\n\t\t<view class=\"login-header\">\r\n\t\t\t<view class=\"login-head\">\r\n\t\t\t\t<image src=\"@/static/default-avatar.png\" class=\"login-head-content\"></image>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"login-info\">\r\n\t\t\t<text class=\"login-info-title\">申请获取以下权限</text>\r\n\t\t\t<text class=\"login-info-content\">获得你的公开信息（昵称、头像等）</text>\r\n\t\t</view>\r\n\t\t<view class=\"login-btn\">\r\n\t\t\t<button type=\"primary\" class=\"btn\" @click=\"confirmLogin\">授权登录</button>\r\n\t\t\t<button type=\"primary\" class=\"cancelBtn btn\">暂不登录</button>\r\n\t\t</view>\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tpartyData: {}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tconfirmLogin() {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tthis.$loadingToast('加载中')\r\n\t\t\t\tuni.getUserProfile({\r\n\t\t\t\t\tdesc: '用户登录',\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tthat.onSuccessLogin(res.userInfo)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\tthat.$Toast(err.message)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync onSuccessLogin(userInfo) {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tconst partyData = {\r\n\t\t\t\t\toauth: 'MP-WEIXIN',\r\n\t\t\t\t\tuserInfo,\r\n\t\t\t\t\tcode: await that.getCode()\r\n\t\t\t\t}\r\n\t\t\t\tthis.$store.dispatch('loginMpWeixin', partyData).then(res => {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tthat.$successToast(res.message, () => {\r\n\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t}).catch(res => {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tthat.$Toast(res.message)\r\n\t\t\t\t\tif (res.data.isBindMobile) {\r\n\t\t\t\t\t\tthat.phoneAuth(res.data.isBindMobile, userInfo)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetCode() {\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tuni.login({\r\n\t\t\t\t\t\tprovider: 'weixin',\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\tresolve(res.code)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: reject\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync phoneAuth(isBindMobile, userInfo) {\r\n\t\t\t\tconst partyData = {\r\n\t\t\t\t\toauth: 'MP-WEIXIN',\r\n\t\t\t\t\tuserInfo,\r\n\t\t\t\t\tcode: await this.getCode()\r\n\t\t\t\t}\r\n\t\t\t\tthis.$emit('onPhoneAuth', {\r\n\t\t\t\t\tisBindMobile,\r\n\t\t\t\t\tpartyData\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.login-header {\r\n\t\tdisplay: flex;\r\n\t\theight: 300rpx;\r\n\t\tmargin: 0 30rpx;\r\n\t\tborder-bottom: 1rpx solid #ccc;\r\n\t}\r\n\r\n\t.login-head {\r\n\t\tdisplay: flex;\r\n\t\theight: 200rpx;\r\n\t\twidth: 200rpx;\r\n\t\tmargin: auto;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 50%;\r\n\t\tborder: 2rpx solid #ccc;\r\n\t}\r\n\r\n\t.login-head-content {\r\n\t\theight: 95%;\r\n\t\twidth: 95%;\r\n\t\tborder-radius: 50%;\r\n\t\tmargin: auto;\r\n\t}\r\n\r\n\t.login-info {\r\n\t\tdisplay: flex;\r\n\t\theight: 200rpx;\r\n\t\tflex-direction: column;\r\n\t\tpadding: 100rpx 30rpx;\r\n\t}\r\n\r\n\t.login-info-title {\r\n\t\tfont-size: 34rpx;\r\n\t\tmargin-bottom: 50rpx;\r\n\t}\r\n\r\n\t.login-info-content {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #ccc;\r\n\t}\r\n\r\n\t.btn {\r\n\t\twidth: 500rpx;\r\n\t\tborder-radius: 250rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\r\n\t.cancelBtn {\r\n\t\tbackground-color: #ccc;\r\n\t\tcolor: #fff;\r\n\t}\r\n</style>\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./mp-weixin.vue?vue&type=style&index=0&id=3aaf109c&scoped=true&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./mp-weixin.vue?vue&type=style&index=0&id=3aaf109c&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1680528100137\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}